
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DonghuaWave - Donghua Details</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <h1>DonghuaWave</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="#">New Releases</a></li>
                    <li><a href="#">Popular</a></li>
                    <li><a href="#">Genres</a></li>
                </ul>
            </nav>
            <div class="user-actions">
                <div class="search-box">
                    <input type="text" placeholder="Search...">
                    <button><i class="fas fa-search"></i></button>
                </div>
                <a href="login.html" class="login-btn">Login</a>
            </div>
        </div>
    </header>

    <main>
        <div class="donghua-banner">
            <div class="banner-overlay"></div>
            <div class="container">
                <div class="donghua-details">
                    <div class="donghua-poster">
                        <img id="donghua-poster" src="https://via.placeholder.com/300x450" alt="Donghua Poster">
                        <div class="donghua-actions">
                            <button class="btn-watch-now"><i class="fas fa-play"></i> Watch Now</button>
                            <button class="btn-bookmark"><i class="far fa-bookmark"></i></button>
                        </div>
                    </div>
                    <div class="donghua-info">
                        <h1 id="donghua-title">Donghua Title</h1>
                        <div class="donghua-meta">
                            <span class="donghua-year" id="donghua-year">2023</span>
                            <span class="donghua-episodes" id="donghua-episodes">24 Episodes</span>
                            <span class="donghua-status" id="donghua-status">Ongoing</span>
                        </div>
                        <div class="donghua-rating">
                            <div class="stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                            <span id="donghua-rating">4.5</span>
                        </div>
                        <div class="donghua-genres" id="donghua-genres">
                            <span>Action</span>
                            <span>Adventure</span>
                            <span>Fantasy</span>
                            <span>Martial Arts</span>
                        </div>
                        <div class="donghua-synopsis">
                            <h3>Synopsis</h3>
                            <p id="donghua-synopsis">Loading synopsis...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <section class="episodes-section">
            <div class="container">
                <div class="section-header">
                    <h2>Episodes</h2>
                    <div class="episode-filters">
                        <select id="season-filter">
                            <option value="1">Season 1</option>
                            <option value="2">Season 2</option>
                            <option value="3">Season 3</option>
                        </select>
                    </div>
                </div>
                
                <div class="episode-grid" id="episode-grid">
                    <!-- Episodes will be loaded here -->
                </div>
            </div>
        </section>

        <section class="donghua-grid-section">
            <div class="container">
                <div class="section-header">
                    <h2>Similar Donghua</h2>
                    <a href="#" class="view-all">View All</a>
                </div>
                <div class="donghua-grid" id="similar-donghua">
                    <!-- Similar donghua will be loaded here -->
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <h2>DonghuaWave</h2>
                    <p>Your premier destination for Chinese animation</p>
                </div>
                <div class="footer-links">
                    <div class="footer-column">
                        <h3>Navigation</h3>
                        <ul>
                            <li><a href="index.html">Home</a></li>
                            <li><a href="#">New Releases</a></li>
                            <li><a href="#">Popular</a></li>
                            <li><a href="#">Genres</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h3>Account</h3>
                        <ul>
                            <li><a href="login.html">Login</a></li>
                            <li><a href="#">Register</a></li>
                            <li><a href="#">Forgot Password</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h3>Legal</h3>
                        <ul>
                            <li><a href="#">Terms of Service</a></li>
                            <li><a href="#">Privacy Policy</a></li>
                            <li><a href="#">Copyright</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 DonghuaWave. All rights reserved.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-discord"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Get donghua ID from URL
            const urlParams = new URLSearchParams(window.location.search);
            const donghuaId = urlParams.get('id') || '1'; // Default to ID 1 if not specified
            
            // Sample donghua data - in a real app this would come from a database
            const donghuaData = {
                '1': {
                    title: "The King's Avatar",
                    original_title: "全职高手",
                    poster: "https://via.placeholder.com/300x450?text=The+King's+Avatar",
                    banner: "https://via.placeholder.com/1200x600?text=The+King's+Avatar+Banner",
                    year: 2019,
                    status: "Ongoing",
                    rating: 4.8,
                    episodes: 24,
                    genres: ["Action", "Adventure", "eSports", "Drama"],
                    synopsis: "Widely regarded as a trailblazer and top-tier professional player in the online multiplayer game Glory, Ye Xiu is dubbed the 'Battle God' for his skills and contributions to the game over the years. However, when forced to retire from the team and to leave his gaming career behind, he finds work at a nearby internet café. There, when Glory launches its tenth server, he throws himself into the game once more using a new character named 'Lord Grim'. Ye Xiu's early achievements on the new server immediately catch the attention of many players, as well as the big guilds, leaving them to wonder about the identity of this exceptional player."
                },
                '2': {
                    title: "Soul Land",
                    original_title: "斗罗大陆",
                    poster: "https://via.placeholder.com/300x450?text=Soul+Land",
                    banner: "https://via.placeholder.com/1200x600?text=Soul+Land+Banner",
                    year: 2018,
                    status: "Ongoing",
                    rating: 4.7,
                    episodes: 183,
                    genres: ["Action", "Adventure", "Fantasy", "Martial Arts", "Romance"],
                    synopsis: "Tang San spent his life in the Tang Outer Sect, dedicated to the creation and mastery of hidden weapons. Once he stole the secret lore of the Inner Sect to reach the pinnacle of his art, his only way out was death. But after throwing himself off the deadly Hell's Peak, he was reborn in a different world, the world of Douluo Dalu, a world where every person has a spirit of their own, and those with powerful spirits can practice their spirit power to rise and become Spirit Masters. The spirit that awakens within Tang San is Blue Silver Grass, a useless spirit. Will he be able to overcome the difficulties of having a weak spirit and rise to become a Spirit Master?"
                },
                '3': {
                    title: "Battle Through The Heavens",
                    original_title: "斗破苍穹",
                    poster: "https://via.placeholder.com/300x450?text=Battle+Through+The+Heavens",
                    banner: "https://via.placeholder.com/1200x600?text=Battle+Through+The+Heavens+Banner",
                    year: 2017,
                    status: "Completed",
                    rating: 4.5,
                    episodes: 48,
                    genres: ["Action", "Adventure", "Fantasy", "Martial Arts", "Romance"],
                    synopsis: "In a land where no magic is present. A land where the strong make the rules and the weak have to obey. A land filled with alluring treasures and beauty, yet also filled with unforeseen danger. Xiao Yan, who showed talents none had seen in decades, suddenly lost everything three years ago - his powers, his reputation, and his promise to his mother. Now, he works as a servant for the Xiao Family, once famous for their alchemy, but now falling. What will he do to save his clan? How will he find the powers he lost? Where is his mother's grave and what awaits him at the end of his journey?"
                }
            };

            // Get the donghua details
            const donghua = donghuaData[donghuaId];
            
            if (donghua) {
                // Update page title
                document.title = `DonghuaWave - ${donghua.title}`;
                
                // Update DOM elements with donghua details
                document.getElementById('donghua-title').textContent = donghua.title;
                document.getElementById('donghua-poster').src = donghua.poster;
                document.getElementById('donghua-poster').alt = donghua.title;
                document.getElementById('donghua-year').textContent = donghua.year;
                document.getElementById('donghua-episodes').textContent = `${donghua.episodes} Episodes`;
                document.getElementById('donghua-status').textContent = donghua.status;
                document.getElementById('donghua-rating').textContent = donghua.rating;
                document.getElementById('donghua-synopsis').textContent = donghua.synopsis;
                
                // Set background image for banner
                document.querySelector('.donghua-banner').style.backgroundImage = `url(${donghua.banner})`;
                
                // Update genres
                const genreContainer = document.getElementById('donghua-genres');
                genreContainer.innerHTML = '';
                donghua.genres.forEach(genre => {
                    const span = document.createElement('span');
                    span.textContent = genre;
                    genreContainer.appendChild(span);
                });
                
                // Generate episodes
                generateEpisodes(donghua);
                
                // Generate similar donghua
                generateSimilarDonghua(donghuaId);
            } else {
                // Handle case where donghua is not found
                document.querySelector('.donghua-details').innerHTML = `
                    <div class="error-message">
                        <h2>Donghua Not Found</h2>
                        <p>Sorry, the donghua you're looking for doesn't exist or has been removed.</p>
                        <a href="index.html" class="btn-primary">Return to Home</a>
                    </div>
                `;
            }

            // Function to generate episodes
            function generateEpisodes(donghua) {
                const episodeGrid = document.getElementById('episode-grid');
                episodeGrid.innerHTML = '';
                
                // Create episodes based on the total count
                for (let i = 1; i <= donghua.episodes; i++) {
                    const episode = document.createElement('div');
                    episode.className = 'episode-card';
                    episode.setAttribute('data-episode', i);
                    
                    episode.innerHTML = `
                        <div class="episode-thumbnail">
                            <img src="https://via.placeholder.com/180x100?text=${donghua.title}+Ep${i}" alt="Episode ${i}">
                            <div class="episode-overlay">
                                <span class="episode-duration">24:30</span>
                                <button class="play-button"><i class="fas fa-play"></i></button>
                            </div>
                        </div>
                        <div class="episode-info">
                            <span class="episode-number">Episode ${i}</span>
                            <h3 class="episode-title">Episode Title ${i}</h3>
                        </div>
                    `;
                    
                    episodeGrid.appendChild(episode);
                    
                    // Add click event to navigate to episode page
                    episode.addEventListener('click', () => {
                        window.location.href = `episode.html?donghua=${donghuaId}&ep=${i}`;
                    });
                }
            }

            // Function to generate similar donghua
            function generateSimilarDonghua(currentDonghuaId) {
                const similarContainer = document.getElementById('similar-donghua');
                similarContainer.innerHTML = '';
                
                // Get all donghua except the current one
                Object.entries(donghuaData).forEach(([id, donghua]) => {
                    if (id !== currentDonghuaId) {
                        const donghuaCard = document.createElement('div');
                        donghuaCard.className = 'donghua-card';
                        donghuaCard.setAttribute('data-id', id);
                        
                        donghuaCard.innerHTML = `
                            <div class="poster">
                                <img src="${donghua.poster}" alt="${donghua.title}">
                                <div class="overlay">
                                    <div class="rating">
                                        <i class="fas fa-star"></i> ${donghua.rating}
                                    </div>
                                    <div class="year">${donghua.year}</div>
                                    <a href="donghua.html?id=${id}" class="btn-watch">Watch Now</a>
                                </div>
                            </div>
                            <div class="donghua-info">
                                <h3>${donghua.title}</h3>
                            </div>
                        `;
                        
                        similarContainer.appendChild(donghuaCard);
                    }
                });
            }

            // Handle bookmark button
            const bookmarkBtn = document.querySelector('.btn-bookmark');
            bookmarkBtn.addEventListener('click', () => {
                // Toggle bookmark status
                const isBookmarked = bookmarkBtn.querySelector('i').classList.contains('fas');
                
                if (isBookmarked) {
                    bookmarkBtn.querySelector('i').classList.remove('fas');
                    bookmarkBtn.querySelector('i').classList.add('far');
                    // In real app: remove from bookmarks in database
                } else {
                    bookmarkBtn.querySelector('i').classList.remove('far');
                    bookmarkBtn.querySelector('i').classList.add('fas');
                    // In real app: add to bookmarks in database
                }
            });

            // Handle season filter change
            const seasonFilter = document.getElementById('season-filter');
            seasonFilter.addEventListener('change', () => {
                // In a real app, this would filter episodes by season
                alert(`Changed to Season ${seasonFilter.value} (In a real app, this would filter the episodes)`);
            });
        });
    </script>
</body>
</html>
